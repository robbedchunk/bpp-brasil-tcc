
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
/*
 * WARNING: This is an internal file that is subject to change!
 *
 * ðŸ›‘ Under no circumstances should you import this file directly! ðŸ›‘
 *
 * Please import the `PrismaClient` class from the `client.ts` file instead.
 */

import * as runtime from "@prisma/client/runtime/client"
import type * as Prisma from "./prismaNamespace"


const config: runtime.GetPrismaClientConfig = {
  "previewFeatures": [],
  "clientVersion": "7.0.0",
  "engineVersion": "0c19ccc313cf9911a90d99d2ac2eb0280c76c513",
  "activeProvider": "postgresql",
  "inlineSchema": "generator client {\n  provider = \"prisma-client\"\n  output   = \"./generated\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n}\n\n// =============================================================================\n// 1) Merchants and contexts\n// =============================================================================\n\nmodel Merchant {\n  merchantId      BigInt   @id @default(autoincrement()) @map(\"merchant_id\")\n  name            String\n  websiteBaseUrl  String?  @map(\"website_base_url\")\n  countryCode     String?  @map(\"country_code\") @db.Char(2)\n  defaultCurrency String?  @map(\"default_currency\") @db.Char(3)\n  timezone        String?\n  createdAt       DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n\n  contexts MerchantContext[]\n\n  @@map(\"merchant\")\n}\n\n// A \"context\" is the price-view configuration:\n// e.g. (merchant=FooMart, postal_code=94107, fulfillment=delivery)\nmodel MerchantContext {\n  contextId       BigInt   @id @default(autoincrement()) @map(\"context_id\")\n  merchantId      BigInt   @map(\"merchant_id\")\n  label           String // human readable, unique per merchant\n  pricingScope    String   @map(\"pricing_scope\") // CHECK: national, postal_code, store, other\n  postalCode      String?  @map(\"postal_code\")\n  storeCode       String?  @map(\"store_code\")\n  fulfillmentType String   @default(\"delivery\") @map(\"fulfillment_type\") // CHECK: delivery, pickup, in_store, unknown\n  currency        String?  @db.Char(3)\n  locale          String? // e.g. en-GB\n  contextParams   Json     @default(\"{}\") @map(\"context_params\") // cookies/profile knobs (non-secret)\n  createdAt       DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n\n  merchant         Merchant           @relation(fields: [merchantId], references: [merchantId])\n  crawlRuns        CrawlRun[]\n  products         MerchantProduct[]\n  categories       MerchantCategory[]\n  catalogDiscovery CatalogDiscovery[]\n\n  @@unique([merchantId, label])\n  @@map(\"merchant_context\")\n}\n\n// =============================================================================\n// 2) Runs (weekly catalog runs + daily price runs)\n// =============================================================================\n\nmodel CrawlRun {\n  runId          BigInt    @id @default(autoincrement()) @map(\"run_id\")\n  contextId      BigInt    @map(\"context_id\")\n  runType        String    @map(\"run_type\") // CHECK: catalog, price\n  startedAt      DateTime  @map(\"started_at\") @db.Timestamptz\n  finishedAt     DateTime? @map(\"finished_at\") @db.Timestamptz\n  status         String // CHECK: running, succeeded, failed, partial\n  parameters     Json      @default(\"{}\") // seeds, limits, etc.\n  scraperVersion String?   @map(\"scraper_version\")\n  parserVersion  String?   @map(\"parser_version\")\n  notes          String?\n\n  context           MerchantContext      @relation(fields: [contextId], references: [contextId])\n  httpFetches       HttpFetch[]\n  productSnapshots  ProductSnapshot[]\n  priceObservations PriceObservation[]\n  productUrls       MerchantProductUrl[]\n  categories        MerchantCategory[]\n  catalogDiscovery  CatalogDiscovery[]\n\n  @@index([contextId, startedAt(sort: Desc)], map: \"crawl_run_context_started_idx\")\n  @@map(\"crawl_run\")\n}\n\n// =============================================================================\n// 3) Raw fetch logging (keep the \"truth\")\n// Store raw bodies in S3/GCS/minio/etc., and keep only a pointer + hash in DB.\n// =============================================================================\n\nmodel HttpFetch {\n  fetchId   BigInt   @id @default(autoincrement()) @map(\"fetch_id\")\n  runId     BigInt   @map(\"run_id\")\n  fetchedAt DateTime @default(now()) @map(\"fetched_at\") @db.Timestamptz\n\n  url         String\n  finalUrl    String? @map(\"final_url\")\n  httpStatus  Int?    @map(\"http_status\")\n  contentType String? @map(\"content_type\")\n\n  durationMs      Int?  @map(\"duration_ms\")\n  responseHeaders Json? @map(\"response_headers\")\n\n  bodyStorageKey String? @map(\"body_storage_key\") // pointer to object storage (compressed html/json)\n  bodySha256     Bytes?  @map(\"body_sha256\") // hash of body for dedup/change detection\n  bodyBytes      BigInt? @map(\"body_bytes\")\n\n  errorClass   String?  @map(\"error_class\") // timeout, blocked, parse_error, etc.\n  errorMessage String?  @map(\"error_message\")\n  isBlocked    Boolean? @map(\"is_blocked\")\n\n  robotsHint String? @map(\"robots_hint\") // Useful to debug bot defenses\n\n  run               CrawlRun           @relation(fields: [runId], references: [runId])\n  productSnapshots  ProductSnapshot[]\n  priceObservations PriceObservation[]\n\n  @@index([runId], map: \"http_fetch_run_idx\")\n  @@index([url], map: \"http_fetch_url_idx\")\n  @@map(\"http_fetch\")\n}\n\n// =============================================================================\n// 4) Product identity + lifecycle (first_seen/last_seen)\n// This is where you support \"uncensored spells\" later (i.e., you know when a\n// product first appeared and when it disappeared).\n// =============================================================================\n\nmodel MerchantProduct {\n  productId BigInt @id @default(autoincrement()) @map(\"product_id\")\n  contextId BigInt @map(\"context_id\")\n\n  // Best-case: retailer exposes a stable internal product id / sku.\n  sourceProductId String? @map(\"source_product_id\")\n\n  // Often available for groceries; great for cross-merchant matching later.\n  gtin String? // EAN/UPC/GTIN\n\n  // Current canonical URL (don't assume stable forever)\n  canonicalUrl String @map(\"canonical_url\")\n\n  firstSeenAt DateTime @map(\"first_seen_at\") @db.Timestamptz\n  lastSeenAt  DateTime @map(\"last_seen_at\") @db.Timestamptz\n  isActive    Boolean  @default(true) @map(\"is_active\")\n\n  createdAt DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt DateTime @default(now()) @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  context           MerchantContext      @relation(fields: [contextId], references: [contextId])\n  urls              MerchantProductUrl[]\n  snapshots         ProductSnapshot[]\n  priceObservations PriceObservation[]\n\n  // Uniqueness rules:\n  // If source_product_id exists, it should be unique within a context.\n  // Note: Prisma doesn't support conditional unique indexes directly.\n  // These should be created via raw SQL migration:\n  // CREATE UNIQUE INDEX merchant_product_context_source_pid_uq\n  //   ON merchant_product(context_id, source_product_id)\n  //   WHERE source_product_id IS NOT NULL;\n\n  @@unique([contextId, canonicalUrl], map: \"merchant_product_context_url_uq\")\n  @@index([contextId, isActive, lastSeenAt(sort: Desc)], map: \"merchant_product_active_idx\")\n  @@map(\"merchant_product\")\n}\n\n// =============================================================================\n// 5) URL history (because URLs change)\n// =============================================================================\n\nmodel MerchantProductUrl {\n  productUrlId BigInt @id @default(autoincrement()) @map(\"product_url_id\")\n  productId    BigInt @map(\"product_id\")\n\n  url       String\n  isPrimary Boolean @default(false) @map(\"is_primary\")\n\n  firstSeenAt   DateTime @map(\"first_seen_at\") @db.Timestamptz\n  lastSeenAt    DateTime @map(\"last_seen_at\") @db.Timestamptz\n  lastSeenRunId BigInt?  @map(\"last_seen_run_id\")\n\n  product     MerchantProduct @relation(fields: [productId], references: [productId])\n  lastSeenRun CrawlRun?       @relation(fields: [lastSeenRunId], references: [runId])\n\n  @@unique([productId, url])\n  @@index([url], map: \"merchant_product_url_url_idx\")\n  @@map(\"merchant_product_url\")\n}\n\n// =============================================================================\n// 6) Product snapshots (attributes over time)\n// This table is where you keep the \"raw but structured\" product fields:\n// name, brand, package size text, category breadcrumb, etc.\n// =============================================================================\n\nmodel ProductSnapshot {\n  snapshotId BigInt @id @default(autoincrement()) @map(\"snapshot_id\")\n  productId  BigInt @map(\"product_id\")\n\n  runId   BigInt  @map(\"run_id\")\n  fetchId BigInt? @map(\"fetch_id\")\n\n  capturedAt DateTime @map(\"captured_at\") @db.Timestamptz\n\n  // Keep both raw text and parsed fields when possible:\n  name        String?\n  brand       String?\n  description String?\n\n  categoryBreadcrumb String[] @map(\"category_breadcrumb\") // e.g. {\"Food\",\"Dairy\",\"Milk\"}\n  packageSizeText    String?  @map(\"package_size_text\") // e.g. \"6 x 330ml\", \"500g\", \"1.5L\"\n\n  // Optional parsed normalization (don't stress if imperfect; keep raw too):\n  packCount Decimal? @map(\"pack_count\") // e.g. 6\n  sizeValue Decimal? @map(\"size_value\") // 330 or 500 or 1.5\n  sizeUnit  String?  @map(\"size_unit\") // ml / g / l / kg / each\n\n  imageUrls String[] @map(\"image_urls\")\n\n  // All extra scraped fields (ingredients, allergens, nutrition, badges, etc.)\n  attributes Json @default(\"{}\") @db.JsonB\n\n  // Raw embedded product JSON if present (JSON-LD, app state, etc.)\n  rawProductJson Json? @map(\"raw_product_json\") @db.JsonB\n\n  parseOk       Boolean  @default(true) @map(\"parse_ok\")\n  parseWarnings String[] @map(\"parse_warnings\")\n\n  product           MerchantProduct    @relation(fields: [productId], references: [productId])\n  run               CrawlRun           @relation(fields: [runId], references: [runId])\n  fetch             HttpFetch?         @relation(fields: [fetchId], references: [fetchId])\n  priceObservations PriceObservation[]\n\n  @@index([productId, capturedAt(sort: Desc)], map: \"product_snapshot_product_time_idx\")\n  @@index([runId], map: \"product_snapshot_run_idx\")\n  @@map(\"product_snapshot\")\n}\n\n// =============================================================================\n// 7) Price observations (daily, huge)\n// This is your main time-series table.\n// Key points:\n// - store regular vs sale vs was-price\n// - store unit price (super important for groceries)\n// - store promo text / multibuy / loyalty (raw)\n// - store availability/stock (raw + normalized)\n// - link to fetch_id for full raw page recovery\n//\n// Partitioning recommendation: Partition by month on observed_at\n// =============================================================================\n\nmodel PriceObservation {\n  priceObsId BigInt @id @default(autoincrement()) @map(\"price_obs_id\")\n  productId  BigInt @map(\"product_id\")\n\n  runId      BigInt  @map(\"run_id\")\n  fetchId    BigInt? @map(\"fetch_id\")\n  snapshotId BigInt? @map(\"snapshot_id\")\n\n  observedAt DateTime @map(\"observed_at\") @db.Timestamptz\n  currency   String   @db.Char(3)\n\n  // Store what you can: regular/list, sale, was, unit price.\n  regularPrice Decimal? @map(\"regular_price\") @db.Decimal(18, 6)\n  salePrice    Decimal? @map(\"sale_price\") @db.Decimal(18, 6)\n  wasPrice     Decimal? @map(\"was_price\") @db.Decimal(18, 6)\n\n  unitPrice     Decimal? @map(\"unit_price\") @db.Decimal(18, 6)\n  unitPriceUnit String?  @map(\"unit_price_unit\") // e.g. \"100g\", \"kg\", \"each\", \"L\"\n  unitPriceText String?  @map(\"unit_price_text\") // raw string as displayed\n\n  priceText     String? @map(\"price_text\") // raw displayed price string\n  promotionText String? @map(\"promotion_text\") // raw promo/multibuy/loyalty text\n\n  availability String? // raw availability label\n  inStock      Boolean? @map(\"in_stock\") // normalized when possible\n\n  // Any extra offer data (e.g., loyalty_price, limits, delivery fees, etc.)\n  rawOfferJson Json @default(\"{}\") @map(\"raw_offer_json\") @db.JsonB\n\n  product  MerchantProduct  @relation(fields: [productId], references: [productId])\n  run      CrawlRun         @relation(fields: [runId], references: [runId])\n  fetch    HttpFetch?       @relation(fields: [fetchId], references: [fetchId])\n  snapshot ProductSnapshot? @relation(fields: [snapshotId], references: [snapshotId])\n\n  @@index([productId, observedAt(sort: Desc)], map: \"price_obs_product_time_idx\")\n  @@index([runId], map: \"price_obs_run_idx\")\n  // For time-range scans across many products, consider adding BRIN index via raw SQL:\n  // CREATE INDEX price_obs_time_brin ON price_observation USING BRIN (observed_at);\n  @@map(\"price_observation\")\n}\n\n// =============================================================================\n// Optional but very useful: categories + catalog discovery\n// If your weekly catalog crawl is category-driven (most supermarkets are),\n// store the merchant's category tree and also store \"this URL was discovered\n// in this run\".\n// =============================================================================\n\nmodel MerchantCategory {\n  categoryId BigInt @id @default(autoincrement()) @map(\"category_id\")\n  contextId  BigInt @map(\"context_id\")\n\n  categoryUrl      String   @map(\"category_url\")\n  name             String?\n  breadcrumb       String[]\n  parentCategoryId BigInt?  @map(\"parent_category_id\")\n\n  firstSeenAt   DateTime @map(\"first_seen_at\") @db.Timestamptz\n  lastSeenAt    DateTime @map(\"last_seen_at\") @db.Timestamptz\n  lastSeenRunId BigInt?  @map(\"last_seen_run_id\")\n\n  context          MerchantContext    @relation(fields: [contextId], references: [contextId])\n  parentCategory   MerchantCategory?  @relation(\"CategoryHierarchy\", fields: [parentCategoryId], references: [categoryId])\n  childCategories  MerchantCategory[] @relation(\"CategoryHierarchy\")\n  lastSeenRun      CrawlRun?          @relation(fields: [lastSeenRunId], references: [runId])\n  catalogDiscovery CatalogDiscovery[]\n\n  @@unique([contextId, categoryUrl])\n  @@map(\"merchant_category\")\n}\n\n// This table is \"raw evidence\" of the catalog state each week\n// (great for debugging \"why did this product disappear?\").\nmodel CatalogDiscovery {\n  runId     BigInt @map(\"run_id\")\n  contextId BigInt @map(\"context_id\")\n\n  categoryId BigInt? @map(\"category_id\")\n\n  productUrl   String   @map(\"product_url\")\n  discoveredAt DateTime @default(now()) @map(\"discovered_at\") @db.Timestamptz\n\n  run      CrawlRun          @relation(fields: [runId], references: [runId])\n  context  MerchantContext   @relation(fields: [contextId], references: [contextId])\n  category MerchantCategory? @relation(fields: [categoryId], references: [categoryId])\n\n  @@id([runId, productUrl])\n  @@index([contextId, runId], map: \"catalog_discovery_context_idx\")\n  @@map(\"catalog_discovery\")\n}\n\n// Notes:\n// - The conditional unique index on (context_id, source_product_id) WHERE source_product_id IS NOT NULL needs to be added via raw SQL migration (Prisma doesn't support conditional indexes)\n// - BRIN index on price_observation.observed_at should be added via raw SQL for efficient time-range scans\n// - Partitioning for price_observation and http_fetch should be configured at the database level\n",
  "runtimeDataModel": {
    "models": {},
    "enums": {},
    "types": {}
  }
}

config.runtimeDataModel = JSON.parse("{\"models\":{\"Merchant\":{\"fields\":[{\"name\":\"merchantId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"merchant_id\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"websiteBaseUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"website_base_url\"},{\"name\":\"countryCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"country_code\"},{\"name\":\"defaultCurrency\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"default_currency\"},{\"name\":\"timezone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"contexts\",\"kind\":\"object\",\"type\":\"MerchantContext\",\"relationName\":\"MerchantToMerchantContext\"}],\"dbName\":\"merchant\"},\"MerchantContext\":{\"fields\":[{\"name\":\"contextId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"context_id\"},{\"name\":\"merchantId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"merchant_id\"},{\"name\":\"label\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"pricingScope\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"pricing_scope\"},{\"name\":\"postalCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"postal_code\"},{\"name\":\"storeCode\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"store_code\"},{\"name\":\"fulfillmentType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"fulfillment_type\"},{\"name\":\"currency\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"locale\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"contextParams\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"context_params\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"merchant\",\"kind\":\"object\",\"type\":\"Merchant\",\"relationName\":\"MerchantToMerchantContext\"},{\"name\":\"crawlRuns\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToMerchantContext\"},{\"name\":\"products\",\"kind\":\"object\",\"type\":\"MerchantProduct\",\"relationName\":\"MerchantContextToMerchantProduct\"},{\"name\":\"categories\",\"kind\":\"object\",\"type\":\"MerchantCategory\",\"relationName\":\"MerchantCategoryToMerchantContext\"},{\"name\":\"catalogDiscovery\",\"kind\":\"object\",\"type\":\"CatalogDiscovery\",\"relationName\":\"CatalogDiscoveryToMerchantContext\"}],\"dbName\":\"merchant_context\"},\"CrawlRun\":{\"fields\":[{\"name\":\"runId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"run_id\"},{\"name\":\"contextId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"context_id\"},{\"name\":\"runType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"run_type\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"started_at\"},{\"name\":\"finishedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"finished_at\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"parameters\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"scraperVersion\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"scraper_version\"},{\"name\":\"parserVersion\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"parser_version\"},{\"name\":\"notes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"context\",\"kind\":\"object\",\"type\":\"MerchantContext\",\"relationName\":\"CrawlRunToMerchantContext\"},{\"name\":\"httpFetches\",\"kind\":\"object\",\"type\":\"HttpFetch\",\"relationName\":\"CrawlRunToHttpFetch\"},{\"name\":\"productSnapshots\",\"kind\":\"object\",\"type\":\"ProductSnapshot\",\"relationName\":\"CrawlRunToProductSnapshot\"},{\"name\":\"priceObservations\",\"kind\":\"object\",\"type\":\"PriceObservation\",\"relationName\":\"CrawlRunToPriceObservation\"},{\"name\":\"productUrls\",\"kind\":\"object\",\"type\":\"MerchantProductUrl\",\"relationName\":\"CrawlRunToMerchantProductUrl\"},{\"name\":\"categories\",\"kind\":\"object\",\"type\":\"MerchantCategory\",\"relationName\":\"CrawlRunToMerchantCategory\"},{\"name\":\"catalogDiscovery\",\"kind\":\"object\",\"type\":\"CatalogDiscovery\",\"relationName\":\"CatalogDiscoveryToCrawlRun\"}],\"dbName\":\"crawl_run\"},\"HttpFetch\":{\"fields\":[{\"name\":\"fetchId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"fetch_id\"},{\"name\":\"runId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"run_id\"},{\"name\":\"fetchedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"fetched_at\"},{\"name\":\"url\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"finalUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"final_url\"},{\"name\":\"httpStatus\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"http_status\"},{\"name\":\"contentType\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"content_type\"},{\"name\":\"durationMs\",\"kind\":\"scalar\",\"type\":\"Int\",\"dbName\":\"duration_ms\"},{\"name\":\"responseHeaders\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"response_headers\"},{\"name\":\"bodyStorageKey\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"body_storage_key\"},{\"name\":\"bodySha256\",\"kind\":\"scalar\",\"type\":\"Bytes\",\"dbName\":\"body_sha256\"},{\"name\":\"bodyBytes\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"body_bytes\"},{\"name\":\"errorClass\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"error_class\"},{\"name\":\"errorMessage\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"error_message\"},{\"name\":\"isBlocked\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_blocked\"},{\"name\":\"robotsHint\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"robots_hint\"},{\"name\":\"run\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToHttpFetch\"},{\"name\":\"productSnapshots\",\"kind\":\"object\",\"type\":\"ProductSnapshot\",\"relationName\":\"HttpFetchToProductSnapshot\"},{\"name\":\"priceObservations\",\"kind\":\"object\",\"type\":\"PriceObservation\",\"relationName\":\"HttpFetchToPriceObservation\"}],\"dbName\":\"http_fetch\"},\"MerchantProduct\":{\"fields\":[{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"product_id\"},{\"name\":\"contextId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"context_id\"},{\"name\":\"sourceProductId\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"source_product_id\"},{\"name\":\"gtin\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"canonicalUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"canonical_url\"},{\"name\":\"firstSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"first_seen_at\"},{\"name\":\"lastSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"last_seen_at\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_active\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"created_at\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"updated_at\"},{\"name\":\"context\",\"kind\":\"object\",\"type\":\"MerchantContext\",\"relationName\":\"MerchantContextToMerchantProduct\"},{\"name\":\"urls\",\"kind\":\"object\",\"type\":\"MerchantProductUrl\",\"relationName\":\"MerchantProductToMerchantProductUrl\"},{\"name\":\"snapshots\",\"kind\":\"object\",\"type\":\"ProductSnapshot\",\"relationName\":\"MerchantProductToProductSnapshot\"},{\"name\":\"priceObservations\",\"kind\":\"object\",\"type\":\"PriceObservation\",\"relationName\":\"MerchantProductToPriceObservation\"}],\"dbName\":\"merchant_product\"},\"MerchantProductUrl\":{\"fields\":[{\"name\":\"productUrlId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"product_url_id\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"product_id\"},{\"name\":\"url\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isPrimary\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"is_primary\"},{\"name\":\"firstSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"first_seen_at\"},{\"name\":\"lastSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"last_seen_at\"},{\"name\":\"lastSeenRunId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"last_seen_run_id\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"MerchantProduct\",\"relationName\":\"MerchantProductToMerchantProductUrl\"},{\"name\":\"lastSeenRun\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToMerchantProductUrl\"}],\"dbName\":\"merchant_product_url\"},\"ProductSnapshot\":{\"fields\":[{\"name\":\"snapshotId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"snapshot_id\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"product_id\"},{\"name\":\"runId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"run_id\"},{\"name\":\"fetchId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"fetch_id\"},{\"name\":\"capturedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"captured_at\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"brand\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"categoryBreadcrumb\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"category_breadcrumb\"},{\"name\":\"packageSizeText\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"package_size_text\"},{\"name\":\"packCount\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"pack_count\"},{\"name\":\"sizeValue\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"size_value\"},{\"name\":\"sizeUnit\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"size_unit\"},{\"name\":\"imageUrls\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"image_urls\"},{\"name\":\"attributes\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"rawProductJson\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"raw_product_json\"},{\"name\":\"parseOk\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"parse_ok\"},{\"name\":\"parseWarnings\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"parse_warnings\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"MerchantProduct\",\"relationName\":\"MerchantProductToProductSnapshot\"},{\"name\":\"run\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToProductSnapshot\"},{\"name\":\"fetch\",\"kind\":\"object\",\"type\":\"HttpFetch\",\"relationName\":\"HttpFetchToProductSnapshot\"},{\"name\":\"priceObservations\",\"kind\":\"object\",\"type\":\"PriceObservation\",\"relationName\":\"PriceObservationToProductSnapshot\"}],\"dbName\":\"product_snapshot\"},\"PriceObservation\":{\"fields\":[{\"name\":\"priceObsId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"price_obs_id\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"product_id\"},{\"name\":\"runId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"run_id\"},{\"name\":\"fetchId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"fetch_id\"},{\"name\":\"snapshotId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"snapshot_id\"},{\"name\":\"observedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"observed_at\"},{\"name\":\"currency\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"regularPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"regular_price\"},{\"name\":\"salePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"sale_price\"},{\"name\":\"wasPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"was_price\"},{\"name\":\"unitPrice\",\"kind\":\"scalar\",\"type\":\"Decimal\",\"dbName\":\"unit_price\"},{\"name\":\"unitPriceUnit\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"unit_price_unit\"},{\"name\":\"unitPriceText\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"unit_price_text\"},{\"name\":\"priceText\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"price_text\"},{\"name\":\"promotionText\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"promotion_text\"},{\"name\":\"availability\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inStock\",\"kind\":\"scalar\",\"type\":\"Boolean\",\"dbName\":\"in_stock\"},{\"name\":\"rawOfferJson\",\"kind\":\"scalar\",\"type\":\"Json\",\"dbName\":\"raw_offer_json\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"MerchantProduct\",\"relationName\":\"MerchantProductToPriceObservation\"},{\"name\":\"run\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToPriceObservation\"},{\"name\":\"fetch\",\"kind\":\"object\",\"type\":\"HttpFetch\",\"relationName\":\"HttpFetchToPriceObservation\"},{\"name\":\"snapshot\",\"kind\":\"object\",\"type\":\"ProductSnapshot\",\"relationName\":\"PriceObservationToProductSnapshot\"}],\"dbName\":\"price_observation\"},\"MerchantCategory\":{\"fields\":[{\"name\":\"categoryId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"category_id\"},{\"name\":\"contextId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"context_id\"},{\"name\":\"categoryUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"category_url\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"breadcrumb\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"parentCategoryId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"parent_category_id\"},{\"name\":\"firstSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"first_seen_at\"},{\"name\":\"lastSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"last_seen_at\"},{\"name\":\"lastSeenRunId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"last_seen_run_id\"},{\"name\":\"context\",\"kind\":\"object\",\"type\":\"MerchantContext\",\"relationName\":\"MerchantCategoryToMerchantContext\"},{\"name\":\"parentCategory\",\"kind\":\"object\",\"type\":\"MerchantCategory\",\"relationName\":\"CategoryHierarchy\"},{\"name\":\"childCategories\",\"kind\":\"object\",\"type\":\"MerchantCategory\",\"relationName\":\"CategoryHierarchy\"},{\"name\":\"lastSeenRun\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CrawlRunToMerchantCategory\"},{\"name\":\"catalogDiscovery\",\"kind\":\"object\",\"type\":\"CatalogDiscovery\",\"relationName\":\"CatalogDiscoveryToMerchantCategory\"}],\"dbName\":\"merchant_category\"},\"CatalogDiscovery\":{\"fields\":[{\"name\":\"runId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"run_id\"},{\"name\":\"contextId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"context_id\"},{\"name\":\"categoryId\",\"kind\":\"scalar\",\"type\":\"BigInt\",\"dbName\":\"category_id\"},{\"name\":\"productUrl\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"product_url\"},{\"name\":\"discoveredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\",\"dbName\":\"discovered_at\"},{\"name\":\"run\",\"kind\":\"object\",\"type\":\"CrawlRun\",\"relationName\":\"CatalogDiscoveryToCrawlRun\"},{\"name\":\"context\",\"kind\":\"object\",\"type\":\"MerchantContext\",\"relationName\":\"CatalogDiscoveryToMerchantContext\"},{\"name\":\"category\",\"kind\":\"object\",\"type\":\"MerchantCategory\",\"relationName\":\"CatalogDiscoveryToMerchantCategory\"}],\"dbName\":\"catalog_discovery\"}},\"enums\":{},\"types\":{}}")

async function decodeBase64AsWasm(wasmBase64: string): Promise<WebAssembly.Module> {
  const { Buffer } = await import('node:buffer')
  const wasmArray = Buffer.from(wasmBase64, 'base64')
  return new WebAssembly.Module(wasmArray)
}

config.compilerWasm = {
  getRuntime: async () => await import("@prisma/client/runtime/query_compiler_bg.postgresql.js"),

  getQueryCompilerWasmModule: async () => {
    const { wasm } = await import("@prisma/client/runtime/query_compiler_bg.postgresql.wasm-base64.js")
    return await decodeBase64AsWasm(wasm)
  }
}



export type LogOptions<ClientOptions extends Prisma.PrismaClientOptions> =
  'log' extends keyof ClientOptions ? ClientOptions['log'] extends Array<Prisma.LogLevel | Prisma.LogDefinition> ? Prisma.GetEvents<ClientOptions['log']> : never : never

export interface PrismaClientConstructor {
    /**
   * ## Prisma Client
   * 
   * Type-safe database client for TypeScript
   * @example
   * ```
   * const prisma = new PrismaClient()
   * // Fetch zero or more Merchants
   * const merchants = await prisma.merchant.findMany()
   * ```
   * 
   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client).
   */

  new <
    Options extends Prisma.PrismaClientOptions = Prisma.PrismaClientOptions,
    LogOpts extends LogOptions<Options> = LogOptions<Options>,
    OmitOpts extends Prisma.PrismaClientOptions['omit'] = Options extends { omit: infer U } ? U : Prisma.PrismaClientOptions['omit'],
    ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs
  >(options: Prisma.Subset<Options, Prisma.PrismaClientOptions> ): PrismaClient<LogOpts, OmitOpts, ExtArgs>
}

/**
 * ## Prisma Client
 * 
 * Type-safe database client for TypeScript
 * @example
 * ```
 * const prisma = new PrismaClient()
 * // Fetch zero or more Merchants
 * const merchants = await prisma.merchant.findMany()
 * ```
 * 
 * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client).
 */

export interface PrismaClient<
  in LogOpts extends Prisma.LogLevel = never,
  in out OmitOpts extends Prisma.PrismaClientOptions['omit'] = undefined,
  in out ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs
> {
  [K: symbol]: { types: Prisma.TypeMap<ExtArgs>['other'] }

  $on<V extends LogOpts>(eventType: V, callback: (event: V extends 'query' ? Prisma.QueryEvent : Prisma.LogEvent) => void): PrismaClient;

  /**
   * Connect with the database
   */
  $connect(): runtime.Types.Utils.JsPromise<void>;

  /**
   * Disconnect from the database
   */
  $disconnect(): runtime.Types.Utils.JsPromise<void>;

/**
   * Executes a prepared raw query and returns the number of affected rows.
   * @example
   * ```
   * const result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`
   * ```
   *
   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).
   */
  $executeRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<number>;

  /**
   * Executes a raw query and returns the number of affected rows.
   * Susceptible to SQL injections, see documentation.
   * @example
   * ```
   * const result = await prisma.$executeRawUnsafe('UPDATE User SET cool = $1 WHERE email = $2 ;', true, 'user@email.com')
   * ```
   *
   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).
   */
  $executeRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<number>;

  /**
   * Performs a prepared raw query and returns the `SELECT` data.
   * @example
   * ```
   * const result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`
   * ```
   *
   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).
   */
  $queryRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<T>;

  /**
   * Performs a raw query and returns the `SELECT` data.
   * Susceptible to SQL injections, see documentation.
   * @example
   * ```
   * const result = await prisma.$queryRawUnsafe('SELECT * FROM User WHERE id = $1 OR email = $2;', 1, 'user@email.com')
   * ```
   *
   * Read more in our [docs](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/raw-database-access).
   */
  $queryRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<T>;


  /**
   * Allows the running of a sequence of read/write operations that are guaranteed to either succeed or fail as a whole.
   * @example
   * ```
   * const [george, bob, alice] = await prisma.$transaction([
   *   prisma.user.create({ data: { name: 'George' } }),
   *   prisma.user.create({ data: { name: 'Bob' } }),
   *   prisma.user.create({ data: { name: 'Alice' } }),
   * ])
   * ```
   * 
   * Read more in our [docs](https://www.prisma.io/docs/concepts/components/prisma-client/transactions).
   */
  $transaction<P extends Prisma.PrismaPromise<any>[]>(arg: [...P], options?: { isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<runtime.Types.Utils.UnwrapTuple<P>>

  $transaction<R>(fn: (prisma: Omit<PrismaClient, runtime.ITXClientDenyList>) => runtime.Types.Utils.JsPromise<R>, options?: { maxWait?: number, timeout?: number, isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<R>

  $extends: runtime.Types.Extensions.ExtendsHook<"extends", Prisma.TypeMapCb<OmitOpts>, ExtArgs, runtime.Types.Utils.Call<Prisma.TypeMapCb<OmitOpts>, {
    extArgs: ExtArgs
  }>>

      /**
   * `prisma.merchant`: Exposes CRUD operations for the **Merchant** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more Merchants
    * const merchants = await prisma.merchant.findMany()
    * ```
    */
  get merchant(): Prisma.MerchantDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.merchantContext`: Exposes CRUD operations for the **MerchantContext** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more MerchantContexts
    * const merchantContexts = await prisma.merchantContext.findMany()
    * ```
    */
  get merchantContext(): Prisma.MerchantContextDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.crawlRun`: Exposes CRUD operations for the **CrawlRun** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more CrawlRuns
    * const crawlRuns = await prisma.crawlRun.findMany()
    * ```
    */
  get crawlRun(): Prisma.CrawlRunDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.httpFetch`: Exposes CRUD operations for the **HttpFetch** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more HttpFetches
    * const httpFetches = await prisma.httpFetch.findMany()
    * ```
    */
  get httpFetch(): Prisma.HttpFetchDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.merchantProduct`: Exposes CRUD operations for the **MerchantProduct** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more MerchantProducts
    * const merchantProducts = await prisma.merchantProduct.findMany()
    * ```
    */
  get merchantProduct(): Prisma.MerchantProductDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.merchantProductUrl`: Exposes CRUD operations for the **MerchantProductUrl** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more MerchantProductUrls
    * const merchantProductUrls = await prisma.merchantProductUrl.findMany()
    * ```
    */
  get merchantProductUrl(): Prisma.MerchantProductUrlDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.productSnapshot`: Exposes CRUD operations for the **ProductSnapshot** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more ProductSnapshots
    * const productSnapshots = await prisma.productSnapshot.findMany()
    * ```
    */
  get productSnapshot(): Prisma.ProductSnapshotDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.priceObservation`: Exposes CRUD operations for the **PriceObservation** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more PriceObservations
    * const priceObservations = await prisma.priceObservation.findMany()
    * ```
    */
  get priceObservation(): Prisma.PriceObservationDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.merchantCategory`: Exposes CRUD operations for the **MerchantCategory** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more MerchantCategories
    * const merchantCategories = await prisma.merchantCategory.findMany()
    * ```
    */
  get merchantCategory(): Prisma.MerchantCategoryDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.catalogDiscovery`: Exposes CRUD operations for the **CatalogDiscovery** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more CatalogDiscoveries
    * const catalogDiscoveries = await prisma.catalogDiscovery.findMany()
    * ```
    */
  get catalogDiscovery(): Prisma.CatalogDiscoveryDelegate<ExtArgs, { omit: OmitOpts }>;
}

export function getPrismaClientClass(): PrismaClientConstructor {
  return runtime.getPrismaClient(config) as unknown as PrismaClientConstructor
}
